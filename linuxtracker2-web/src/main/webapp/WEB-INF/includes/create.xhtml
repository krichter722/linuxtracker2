<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    <h:form enctype="multipart/form-data">
        <p:outputLabel value="Name:"/>
        <p:inputText value="#{create.name}"/>
        <ui:remove>
        <!-- AJAX-fileUpload is simply ignored without any feedback ->
                impossible to figure out, see http://stackoverflow.com/questions/8875818/how-to-use-primefaces-pfileupload-listener-method-is-never-invoked-or-uploaded
                for details and base for SO question -->
<!--        <p:fileUpload mode="advanced"
                        fileUploadListener="#{create.upload()}"
                auto="true"
                allowTypes="*.torrent$/"/>
        <p:commandButton value="Submit for review" action="#{create.submit()}"
                         ajax="false"/>-->
        </ui:remove>

        <p:fileUpload mode="simple" value="#{create.uploadedFile}" />
        <p:commandButton value="Submit for review" action="#{create.upload()}" ajax="false" />
        <h:messages/>
    </h:form>
</ui:composition>